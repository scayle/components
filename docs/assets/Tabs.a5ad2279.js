import{u as f,x as v,w as S,I as B,Z as V,p as _,d as T,e as A,v as I,D as N,z as j,o as p,f as m,F as h,m as E,q as C,S as q,n as $,t as k,g as M,j as z,U as H,s as X}from"./vue.esm-bundler.b273ba75.js";import{w as Z}from"./utils.b3a37e59.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";var y=(e=>(e.SIMPLE="simple",e.BUTTON="button",e))(y||{});const x=Symbol("update-tab"),D=Symbol("register-tab"),O=Symbol("deregister-tab"),R=Symbol("deregister-tab");function G({selectedTab:e}={}){e=e!=null?e:f(null);const t=f([]),o=v(()=>t.value.some(a=>a.isActive)),r=(a,n,l)=>{t.value=t.value.map(c=>c.name===a?{...c,name:n,options:{...c.options,...l}}:c)},b=a=>{const n=f(a);return v(()=>{var l;return!!((l=t.value.find(c=>c.name===n.value))!=null&&l.isActive)})},u=a=>t.value=t.value.map(n=>({...n,isActive:n.name===a})),s=(a,{type:n,...l})=>{let c=t.value.length===0;if(e!=null&&e.value&&(c=a===e.value),t.value.length&&t.value[0].type!==n)throw new Error("The Layout for tabs must be consistent. Either simple or button layout!");t.value.push({name:a,type:n,options:l,isActive:!1}),c&&u(a)},i=a=>{const n=b(a);t.value=t.value.filter(l=>l.name!==a),t.value.length&&n&&!o.value&&u(t.value[0].name)};return _(x,r),_(D,s),_(O,i),_(R,b),S(e,a=>{!a||u(a)}),B(()=>{!t.value.length||t.value.some(a=>a.isActive)||(t.value[0].isActive=!0)}),V(()=>{!t.value.length||(t.value=[])}),{setActiveTab:u,hasActiveTab:o,tabs:v(()=>t.value),tabsType:v(()=>{var a;return(a=t==null?void 0:t.value[0])==null?void 0:a.type})}}function ce(){const e=T(x,()=>{}),t=T(D,()=>{}),o=T(O,()=>{}),r=T(R,()=>Z(!0));return{updateTab:e,deregisterTab:o,registerTab:t,isTabActive:r}}const U=A({name:"TabsSimpleLayout",props:{tabs:{type:Array,required:!0}},emits:{click(e){return!0}},setup(e){const t=j(),o=f(null),{tabs:r}=I(e);return S(r,async()=>{var a,n;await N();const u=(n=(a=t==null?void 0:t.parent)==null?void 0:a.refs)==null?void 0:n.tabsEl;if(!o.value||!u)return;const s=u.querySelector(".ay-tabs__tab--active");if(!s)return;const i=s.getBoundingClientRect();o.value.style.transform=`translateX(${s.offsetLeft}px)`,o.value.style.width=`${i.width}px`},{immediate:!0}),{indicatorEl:o}}}),J=["onClick"],Q={class:"ay-tabs__tab-title"},W={ref:"indicatorEl",class:"ay-tabs__indicator"};function Y(e,t,o,r,b,u){return p(),m(h,null,[(p(!0),m(h,null,E(e.tabs,s=>{var i;return p(),m("div",{key:s.name,class:C([{"ay-tabs__tab--active":s.isActive},"ay-tabs__tab"]),onClick:q(a=>e.$emit("click",s.name),["prevent"])},[$("h6",Q,k(((i=s.options)==null?void 0:i.label)||s.name),1)],10,J)}),128)),$("div",W,null,512)],64)}const g=L(U,[["render",Y]]);U.__docgenInfo={displayName:"TabsSimpleLayout",exportName:"default",description:"",tags:{},props:[{name:"tabs",type:{name:"Tabs"},required:!0}],events:[{name:"click"}],sourceFiles:["/home/runner/work/components/components/src/components/Tabs/components/TabsSimpleLayout/TabsSimpleLayout.vue"]};const F=A({name:"TabsButtonLayout",props:{tabs:{type:Array,required:!0}},emits:{click(e){return!0}}}),ee={class:"ay-tabs__tab-button-container ay-btn-group"},te=["onClick"],ae={key:0,class:"ay-tabs__tab-badge"};function se(e,t,o,r,b,u){return p(),m("div",ee,[(p(!0),m(h,null,E(e.tabs,s=>{var i,a;return p(),m("button",{key:s.name,class:C([{"ay-tabs__tab--active":s.isActive},"ay-tabs__tab ay-btn"]),onClick:q(n=>e.$emit("click",s.name),["prevent"])},[$("span",null,k(((i=s.options)==null?void 0:i.label)||s.name),1),(a=s.options)!=null&&a.badgeText?(p(),m("span",ae,k(s.options.badgeText),1)):M("",!0)],10,te)}),128))])}const w=L(F,[["render",se]]);F.__docgenInfo={displayName:"TabsButtonLayout",exportName:"default",description:"",tags:{},props:[{name:"tabs",type:{name:"Tabs"},required:!0}],events:[{name:"click"}],sourceFiles:["/home/runner/work/components/components/src/components/Tabs/components/TabsButtonLayout/TabsButtonLayout.vue"]};const K=A({name:"Tabs",components:{TabsButtonLayout:w,TabsSimpleLayout:g},props:{selectedTab:{type:String,default:null},hideOnSingleTab:{type:Boolean,default:!1}},emits:{click(e){return!0}},setup(e,{emit:t}){const o=f(null),r=f(null),{selectedTab:b,hideOnSingleTab:u}=I(e),{tabs:s,tabsType:i,setActiveTab:a}=G({selectedTab:b}),n=v(()=>!(!s.value.length||s.value.length===1&&u.value)),l=d=>{a(d),t("click",d)},c=async()=>{if(await N(),!r.value||!o.value)return;const d=o.value.querySelector(".ay-tabs__tab--active");if(!d)return;const P=d.getBoundingClientRect();r.value.style.transform=`translateX(${d.offsetLeft}px)`,r.value.style.width=`${P.width}px`};return S(s,c),B(c),{tabs:s,tabsEl:o,tabsType:i,onTabClick:l,indicatorEl:r,canDisplayTabHeader:n,tabLayout:v(()=>({[y.SIMPLE]:g,[y.BUTTON]:w})[i.value]||g),tabsModifierClass:v(()=>({[y.SIMPLE]:"ay-tabs--type-simple",[y.BUTTON]:"ay-tabs--type-button"})[i.value]||"")}}}),ne={key:0,class:"ay-tabs__header"};function oe(e,t,o,r,b,u){return p(),m("div",{ref:"tabsEl",class:C([e.tabsModifierClass,"ay-tabs"])},[e.canDisplayTabHeader?(p(),m("div",ne,[(p(),z(H(e.tabLayout),{tabs:e.tabs,onClick:e.onTabClick},null,8,["tabs","onClick"]))])):M("",!0),X(e.$slots,"default")],2)}const le=L(K,[["render",oe]]);K.__docgenInfo={displayName:"Tabs",exportName:"default",description:"",tags:{},props:[{name:"selectedTab",description:"Set the tab that you want to be active.",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"hideOnSingleTab",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"click"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/components/components/src/components/Tabs/Tabs.vue"]};export{le as T,y as a,ce as u};
